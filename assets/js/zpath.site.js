/**
 * zpath.site - ...creating stuff for others
 * @version v1.03.27
 * @link    http://zetapath.com
 * @author   ()
 * @license 
 */
(function(){"use strict";$(function(){var el;return window.zpath={document:$(document),height:window.innerHeight||document.documentElement.offsetHeight,width:window.innerWidth||document.documentElement.offsetWidth,aside:$("aside"),header:$("header"),landing:$("#intro"),text:$("#intro > h1"),more:$("#intro > a"),articles:function(){var _i,_len,_ref,_results;for(_ref=$("article[data-content]"),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)el=_ref[_i],_results.push({id:$(el).attr("id"),px:el.offsetTop});return _results}(),maps:$(".map > iframe"),activeArticle:function(){var article,index,px,_i,_len,_ref,_ref1,_results;for(px=zpath.document.scrollTop(),px+=zpath.height/1.75,_ref=zpath.articles,_results=[],index=_i=0,_len=_ref.length;_len>_i;index=++_i)if(article=_ref[index],px>=article.px){if(!(px>=(null!=(_ref1=zpath.articles[index+1])?_ref1.px:void 0))){$("article#"+article.id).addClass("active").siblings().removeClass("active");break}_results.push(void 0)}return _results}},zpath.activeArticle(),$(document).on("scroll",function(){var percent,px;return px=zpath.document.scrollTop(),percent=100*px/zpath.landing.height(),percent>1?zpath.more.addClass("hide"):zpath.more.removeClass("hide"),percent>35?zpath.text.addClass("hide"):zpath.text.removeClass("hide"),percent>85?zpath.header.addClass("fixed"):zpath.header.removeClass("fixed"),zpath.activeArticle()}),$("a[href*=#]:not([href=#])").click(function(){var target;return location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&(target=$(this.hash),target=target.length?target:$("[name="+this.hash.slice(1)+"]"),target.length)?($("html,body").animate({scrollTop:target.offset().top},450),!1):void 0}),$("[data-action=aside]").on("click",function(){return zpath.aside.toggleClass("active")}),window.clock.set("[data-control='clock'][data-timezone='Europe/London']"),window.clock.set("[data-control='clock'][data-timezone='Asia/Bangkok']"),$("#location > .container > [data-column]").click(function(event){var timezone;return el=$(event.delegateTarget),timezone=el.children("[data-timezone]").attr("data-timezone"),zpath.maps.filter("[data-timezone='"+timezone+"']").addClass("active").siblings().removeClass("active"),el.addClass("active").siblings().removeClass("active")})}),window.clock=function(){var set;return set=function(query){var el,getTime;return el=$(query),el={sphere:el,timezone:moment.tz(el.attr("data-timezone")),seconds:el.find(".seconds"),minutes:el.find(".minutes"),hours:el.find(".hours"),text:el.find(".text")},getTime=function(){var deg_hours,deg_minutes,deg_seconds,hours,minutes,seconds;return seconds=el.timezone.seconds(),minutes=el.timezone.minutes(),hours=el.timezone.hours(),deg_seconds=360*seconds/60,deg_minutes=360*(minutes+seconds/60)/60,deg_hours=360*(hours+minutes/60+seconds/60/60)/12,el.text.html(hours>12?"PM":"AM"),el.sphere.attr("class",hours>7&&20>hours?"":"night"),el.seconds.attr("style","-webkit-transform: rotate("+deg_seconds+"deg); -moz-transform: rotate("+deg_seconds+"deg); -ms-transform: rotate("+deg_seconds+"deg); -o-transform: rotate("+deg_seconds+"deg); transform: rotate("+deg_seconds+"deg);"),el.minutes.attr("style","-webkit-transform: rotate("+deg_minutes+"deg); -moz-transform: rotate("+deg_minutes+"deg); -ms-transform: rotate("+deg_minutes+"deg); -o-transform: rotate("+deg_minutes+"deg); transform: rotate("+deg_minutes+"deg);"),el.hours.attr("style","-webkit-transform: rotate("+deg_hours+"deg); -moz-transform: rotate("+deg_hours+"deg); -ms-transform: rotate("+deg_hours+"deg); -o-transform: rotate("+deg_hours+"deg); transform: rotate("+deg_hours+"deg);"),el.timezone.add(1,"second")},setInterval(getTime,1e3),getTime()},{set:set}}()}).call(this);